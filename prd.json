{
  "project": "NowThenNext",
  "branchName": "ralph/nowthenext-mvp",
  "description": "Visual schedule and food choice app for children with SEN - displays pictures in Now/Then/Next format to communicate daily plans",
  "userStories": [
    {
      "id": "US-001",
      "title": "Set up Blazor WASM project structure",
      "description": "As a developer, I need the foundational Blazor WASM project so I can build the application.",
      "acceptanceCriteria": [
        "Create new Blazor WASM project named 'NowThenNext'",
        "Project builds and runs successfully in browser",
        "Basic index page loads without errors",
        "Typecheck passes"
      ],
      "priority": 1,
      "passes": true,
      "notes": ""
    },
    {
      "id": "US-002",
      "title": "Configure Tailwind CSS with calm color theme",
      "description": "As a developer, I need Tailwind CSS configured with a calming color palette suitable for children with SEN.",
      "acceptanceCriteria": [
        "Install and configure Tailwind CSS (CDN or build process)",
        "Define custom color palette: soft teal primary, muted green accent, warm off-white background, dark gray text",
        "Avoid bright/harsh colors (no pure red, bright yellow)",
        "Colors meet WCAG AA contrast requirements",
        "Typecheck passes"
      ],
      "priority": 2,
      "passes": true,
      "notes": ""
    },
    {
      "id": "US-003",
      "title": "Create base layout component",
      "description": "As a developer, I need a reusable layout component with the calm design system applied.",
      "acceptanceCriteria": [
        "Layout component with calm background color",
        "Generous padding and margins for uncluttered appearance",
        "Uses rounded sans-serif font (minimum 18px body text)",
        "Touch-friendly sizing (48px minimum tap targets)",
        "Adapts to portrait and landscape orientations",
        "Typecheck passes",
        "Verify in browser using dev-browser skill"
      ],
      "priority": 3,
      "passes": true,
      "notes": ""
    },
    {
      "id": "US-004",
      "title": "Create image data model and storage service",
      "description": "As a developer, I need a service to store and retrieve images from browser localStorage.",
      "acceptanceCriteria": [
        "ImageItem model with: Id, Base64Data, Label, Category (Places/Food), IsFavorite, CreatedAt",
        "Service can save images as base64 strings to localStorage",
        "Service can retrieve all images by category",
        "Service can delete individual images by Id",
        "Service can toggle favorite status on images",
        "Service can retrieve all favorited images across categories",
        "Typecheck passes"
      ],
      "priority": 4,
      "passes": true,
      "notes": ""
    },
    {
      "id": "US-005",
      "title": "Add storage usage monitoring to service",
      "description": "As a developer, I need to track localStorage usage to warn users when storage is low.",
      "acceptanceCriteria": [
        "Service can report current storage usage as percentage of quota",
        "Service returns estimated remaining image capacity",
        "Handle storage quota errors gracefully",
        "Typecheck passes"
      ],
      "priority": 5,
      "passes": true,
      "notes": ""
    },
    {
      "id": "US-006",
      "title": "Create main menu / home screen",
      "description": "As a user, I want a simple home screen to navigate to different app sections.",
      "acceptanceCriteria": [
        "App title 'Now -> Then -> Next' displayed at top with arrow characters between words",
        "Settings gear icon in top corner for backup/restore access",
        "Four large buttons in order: 'Places', 'Food', 'Plan the Day', 'Favorites'",
        "Each button has an icon alongside text",
        "Calm, welcoming design with theme colors",
        "Buttons are minimum 48px tap targets",
        "Typecheck passes",
        "Verify in browser using dev-browser skill"
      ],
      "priority": 6,
      "passes": true,
      "notes": "Updated: Renamed My Pictures to Places, reordered menu, added settings gear, updated title format"
    },
    {
      "id": "US-007",
      "title": "Create image upload component",
      "description": "As a carer, I want to upload pictures to build my library of places and food.",
      "acceptanceCriteria": [
        "Large, clearly labeled upload button",
        "Accept image formats: jpg, png, webp",
        "Preview uploaded image before confirming",
        "Text input for optional label",
        "Category selector: 'Places' or 'Food'",
        "Typecheck passes",
        "Verify in browser using dev-browser skill"
      ],
      "priority": 7,
      "passes": true,
      "notes": ""
    },
    {
      "id": "US-008",
      "title": "Connect upload component to storage service",
      "description": "As a carer, I want uploaded images to be saved to local storage.",
      "acceptanceCriteria": [
        "On confirm, image is resized/compressed client-side to save space",
        "Image saved to localStorage via storage service",
        "Success feedback shown after save",
        "Error message shown if storage quota exceeded",
        "Typecheck passes",
        "Verify in browser using dev-browser skill"
      ],
      "priority": 8,
      "passes": true,
      "notes": ""
    },
    {
      "id": "US-009",
      "title": "Create reusable image tile component",
      "description": "As a developer, I need a reusable tile component to display images in grids.",
      "acceptanceCriteria": [
        "Tile shows image with subtle rounded corners and soft shadow",
        "Optional label displayed below image",
        "Heart/star icon for favorite toggle",
        "Visual indicator when favorited (filled vs outline)",
        "Delete button (small, unobtrusive)",
        "Minimum 200px tile size",
        "Typecheck passes",
        "Verify in browser using dev-browser skill"
      ],
      "priority": 9,
      "passes": true,
      "notes": ""
    },
    {
      "id": "US-010",
      "title": "Create Places library view",
      "description": "As a carer, I want to see all my uploaded place/activity pictures.",
      "acceptanceCriteria": [
        "Grid display of all Places images using image tile component",
        "Empty state message when no images uploaded",
        "Delete button on each tile shows confirmation before deleting",
        "Favorite toggle updates storage and UI",
        "Navigation to upload component",
        "Calm, uncluttered layout",
        "Typecheck passes",
        "Verify in browser using dev-browser skill"
      ],
      "priority": 10,
      "passes": true,
      "notes": ""
    },
    {
      "id": "US-011",
      "title": "Create Food library view",
      "description": "As a carer, I want to see all my uploaded food pictures.",
      "acceptanceCriteria": [
        "Grid display of all Food images using image tile component",
        "Empty state message when no images uploaded",
        "Delete button on each tile shows confirmation before deleting",
        "Favorite toggle updates storage and UI",
        "Navigation to upload component",
        "Calm, uncluttered layout",
        "Typecheck passes",
        "Verify in browser using dev-browser skill"
      ],
      "priority": 11,
      "passes": true,
      "notes": ""
    },
    {
      "id": "US-012",
      "title": "Update navigation - separate Places and Food menu items",
      "description": "As a user, I want Places and Food as separate menu items on the home screen for direct access.",
      "acceptanceCriteria": [
        "Places and Food are separate buttons on home screen (not tabs)",
        "Places button navigates directly to Places library",
        "Food button navigates directly to Food library",
        "Each library view has back button to return to home",
        "Upload button available within each library view",
        "Typecheck passes",
        "Verify in browser using dev-browser skill"
      ],
      "priority": 12,
      "passes": true,
      "notes": "Updated: Changed from tab navigation to separate menu items. Implementation completed in US-006 update."
    },
    {
      "id": "US-013",
      "title": "Create Favorites view",
      "description": "As a carer, I want a dedicated Favorites section for quick access to frequently used images.",
      "acceptanceCriteria": [
        "Favorites view accessible from home screen",
        "Shows all favorited images from both categories",
        "Section headers or labels distinguish Places vs Food items",
        "Grid display using image tile component",
        "Empty state message when no favorites",
        "Can unfavorite from this view (removes from view)",
        "Back button to return to home",
        "Typecheck passes",
        "Verify in browser using dev-browser skill"
      ],
      "priority": 13,
      "passes": true,
      "notes": ""
    },
    {
      "id": "US-014",
      "title": "Add storage warning banner",
      "description": "As a carer, I want to be warned when storage is getting full.",
      "acceptanceCriteria": [
        "Warning banner appears when storage exceeds 80% capacity",
        "Banner shows approximate remaining capacity (e.g., '~5 more images')",
        "Banner is dismissible",
        "Banner reappears on next upload if still over threshold",
        "Uses calm warning color (not harsh red)",
        "Typecheck passes",
        "Verify in browser using dev-browser skill"
      ],
      "priority": 14,
      "passes": true,
      "notes": ""
    },
    {
      "id": "US-015",
      "title": "Build schedule selection interface",
      "description": "As a carer, I want to select up to 3 items from Places to create the day's schedule.",
      "acceptanceCriteria": [
        "Display all Places images in selectable grid",
        "Tap to select with visual highlight",
        "Show selection order badges: 1=Now, 2=Then, 3=Next",
        "Maximum 3 selections enforced",
        "Tap selected item again to deselect",
        "'Show Schedule' button appears when at least 1 item selected",
        "Back button to return to home",
        "Typecheck passes",
        "Verify in browser using dev-browser skill"
      ],
      "priority": 15,
      "passes": true,
      "notes": ""
    },
    {
      "id": "US-016",
      "title": "Build schedule display carousel - static mode",
      "description": "As a child, I want to see my day's plan as big, clear pictures.",
      "acceptanceCriteria": [
        "Full-screen or near-full-screen display mode",
        "Shows 1-3 selected images with 'Now', 'Then', 'Next' labels",
        "Labels use large font (minimum 24px)",
        "Horizontal layout on tablet/desktop",
        "Calm background color, no distracting elements",
        "Back button positioned unobtrusively",
        "Typecheck passes",
        "Verify in browser using dev-browser skill"
      ],
      "priority": 16,
      "passes": true,
      "notes": ""
    },
    {
      "id": "US-017",
      "title": "Add pulse animation to Now item",
      "description": "As a child, I want the current activity highlighted so I know what's happening now.",
      "acceptanceCriteria": [
        "Subtle gentle pulse or soft glow animation on 'Now' item only",
        "Animation is slow and calming (not rapid or jarring)",
        "No other looping animations in the display",
        "Animation uses CSS (no JavaScript timers)",
        "Typecheck passes",
        "Verify in browser using dev-browser skill"
      ],
      "priority": 17,
      "passes": true,
      "notes": ""
    },
    {
      "id": "US-018",
      "title": "Add auto-advance toggle to schedule display",
      "description": "As a carer, I want to optionally auto-cycle through the schedule.",
      "acceptanceCriteria": [
        "Toggle button to switch between static and auto-advance modes",
        "Auto-advance cycles through Now/Then/Next every 5-10 seconds",
        "Smooth transitions between items",
        "Current item indicator during auto-advance",
        "Toggle button is unobtrusive but accessible",
        "Typecheck passes",
        "Verify in browser using dev-browser skill"
      ],
      "priority": 18,
      "passes": true,
      "notes": ""
    },
    {
      "id": "US-019",
      "title": "Build food choice selection interface",
      "description": "As a carer, I want to select food items to show as choices.",
      "acceptanceCriteria": [
        "Display all Food images in selectable grid",
        "Tap to select/deselect items",
        "Visual highlight on selected items",
        "Select 2-4 items for display",
        "'Show Choices' button when items selected",
        "Back button to return to home",
        "Typecheck passes",
        "Verify in browser using dev-browser skill"
      ],
      "priority": 19,
      "passes": true,
      "notes": ""
    },
    {
      "id": "US-020",
      "title": "Build food choice display",
      "description": "As a child, I want to see food options as big pictures so I can choose.",
      "acceptanceCriteria": [
        "Large grid showing selected food images (2-4 visible)",
        "Each food image is large and clearly tappable",
        "Highlight/animate when tapped to indicate selection",
        "Calm, focused layout with no distractions",
        "Back button to return to selection",
        "Typecheck passes",
        "Verify in browser using dev-browser skill"
      ],
      "priority": 20,
      "passes": true,
      "notes": ""
    },
    {
      "id": "US-021",
      "title": "Add responsive tablet optimization",
      "description": "As a carer, I want the app to work well on tablets.",
      "acceptanceCriteria": [
        "Layout adapts to tablet screen sizes (768px-1024px)",
        "Images scale appropriately without distortion",
        "No horizontal scroll on main views",
        "Grid columns adjust based on screen width",
        "All touch targets remain minimum 48px",
        "Typecheck passes",
        "Verify in browser using dev-browser skill"
      ],
      "priority": 21,
      "passes": true,
      "notes": ""
    },
    {
      "id": "US-022",
      "title": "Set up Playwright E2E test project with xUnit v3",
      "description": "As a developer, I need a test project configured with Playwright and xUnit v3 for browser-based E2E testing.",
      "acceptanceCriteria": [
        "Create tests/NowThenNext.Tests.E2E project",
        "Configure xUnit v3 as test framework",
        "Add Microsoft.Playwright package",
        "Create test fixture that starts the Blazor app and launches browser",
        "Add helper to clear localStorage between tests",
        "Sample smoke test navigates to home page successfully",
        "Tests run via 'dotnet test'",
        "Typecheck passes"
      ],
      "priority": 22,
      "passes": true,
      "notes": ""
    },
    {
      "id": "US-023",
      "title": "E2E tests for home screen navigation",
      "description": "As a developer, I need E2E tests verifying home screen buttons navigate correctly.",
      "acceptanceCriteria": [
        "Test: All four main buttons are visible on home screen",
        "Test: 'Places' button navigates to /places",
        "Test: 'Food' button navigates to /food",
        "Test: 'Plan the Day' button navigates to /plan-day",
        "Test: 'Favorites' button navigates to /favorites",
        "Test: Settings gear icon is visible and clickable",
        "All tests pass in browser",
        "Typecheck passes"
      ],
      "priority": 23,
      "passes": true,
      "notes": "Updated: Reflects new menu structure with Places/Food buttons and settings gear. All tests verified passing."
    },
    {
      "id": "US-024",
      "title": "E2E tests for image upload flow",
      "description": "As a developer, I need E2E tests verifying the complete image upload workflow.",
      "acceptanceCriteria": [
        "Test: Upload area triggers file picker when clicked",
        "Test: Image preview displays after file selection",
        "Test: Category selector switches between Places and Food",
        "Test: Label input accepts and displays text",
        "Test: Confirm button saves image and shows success message",
        "Test: Uploaded image appears in correct library view",
        "All tests pass in browser",
        "Typecheck passes"
      ],
      "priority": 24,
      "passes": true,
      "notes": ""
    },
    {
      "id": "US-025",
      "title": "E2E tests for library views and image management",
      "description": "As a developer, I need E2E tests verifying library views display and manage images correctly.",
      "acceptanceCriteria": [
        "Test: Places library displays uploaded place images",
        "Test: Food library displays uploaded food images",
        "Test: Tab navigation switches between libraries",
        "Test: Empty state shown when no images",
        "Test: Delete button shows confirmation dialog",
        "Test: Confirming delete removes image from view",
        "Test: Favorite toggle changes icon state",
        "Test: Favorited image appears in Favorites view",
        "All tests pass in browser",
        "Typecheck passes"
      ],
      "priority": 25,
      "passes": true,
      "notes": ""
    },
    {
      "id": "US-026",
      "title": "E2E tests for schedule flow (Plan the Day)",
      "description": "As a developer, I need E2E tests verifying the Now/Then/Next schedule selection and display.",
      "acceptanceCriteria": [
        "Test: Can select images in schedule selection view",
        "Test: Selection shows Now/Then/Next badges in order",
        "Test: Cannot select more than 3 images",
        "Test: Can deselect by tapping selected image",
        "Test: 'Show Schedule' button appears after selection",
        "Test: Schedule display shows images with correct labels",
        "Test: Back button returns to selection",
        "All tests pass in browser",
        "Typecheck passes"
      ],
      "priority": 26,
      "passes": true,
      "notes": ""
    },
    {
      "id": "US-027",
      "title": "E2E tests for food choices flow",
      "description": "As a developer, I need E2E tests verifying food choice selection and display.",
      "acceptanceCriteria": [
        "Test: Can select food items in selection view",
        "Test: Selected items are visually highlighted",
        "Test: 'Show Choices' button appears when items selected",
        "Test: Food display shows selected items in large format",
        "Test: Tapping food item shows selection feedback",
        "Test: Back button returns to selection",
        "All tests pass in browser",
        "Typecheck passes"
      ],
      "priority": 27,
      "passes": true,
      "notes": ""
    },
    {
      "id": "US-028",
      "title": "Create settings panel with backup/restore options",
      "description": "As a carer, I want to access settings from the home screen to backup and restore my data.",
      "acceptanceCriteria": [
        "Settings gear icon in top corner of home screen",
        "Tapping gear opens settings panel/modal",
        "Settings panel shows 'Backup Data' and 'Restore Data' buttons",
        "Clean, simple layout matching app design",
        "Close button to return to home",
        "Typecheck passes",
        "Verify in browser using dev-browser skill"
      ],
      "priority": 28,
      "passes": false,
      "notes": ""
    },
    {
      "id": "US-029",
      "title": "Implement data backup (export to JSON file)",
      "description": "As a carer, I want to backup my images and settings so I don't lose them.",
      "acceptanceCriteria": [
        "'Backup Data' button in settings panel",
        "Exports all images (Places and Food) with labels, favorites, and metadata",
        "Downloads as JSON file with timestamp (e.g., nowthenext-backup-2024-01-15.json)",
        "Shows success message after download starts",
        "Typecheck passes",
        "Verify in browser using dev-browser skill"
      ],
      "priority": 29,
      "passes": false,
      "notes": ""
    },
    {
      "id": "US-030",
      "title": "Implement data restore (import from JSON file)",
      "description": "As a carer, I want to restore my data from a backup file.",
      "acceptanceCriteria": [
        "'Restore Data' button in settings panel",
        "Opens file picker to select backup JSON file",
        "Validates file format before processing",
        "Prompts user to choose: 'Replace all data' or 'Merge with existing'",
        "Replace: Clears existing data, imports backup",
        "Merge: Adds new images, skips duplicates (by ID)",
        "Shows success message with count of images restored",
        "Shows error message if file is invalid",
        "Typecheck passes",
        "Verify in browser using dev-browser skill"
      ],
      "priority": 30,
      "passes": false,
      "notes": ""
    },
    {
      "id": "US-031",
      "title": "E2E tests for backup/restore flow",
      "description": "As a developer, I need E2E tests verifying backup and restore functionality.",
      "acceptanceCriteria": [
        "Test: Settings gear icon visible on home screen",
        "Test: Settings panel opens when gear tapped",
        "Test: Backup button triggers file download",
        "Test: Restore button opens file picker",
        "Test: Restore shows replace/merge choice dialog",
        "Test: Data correctly restored after import (replace mode)",
        "Test: Data correctly merged after import (merge mode)",
        "All tests pass in browser",
        "Typecheck passes"
      ],
      "priority": 31,
      "passes": false,
      "notes": ""
    }
  ]
}
