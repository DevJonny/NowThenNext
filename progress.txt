# Ralph Progress Log - Learning Cards

Branch: ralph/learning-cards
Started: 2026-02-07

## Codebase Patterns
- Existing code-behind pattern: file-scoped namespace, `public partial class`, `[Inject] private` properties with `= default!`
- Pages use namespace `NowThenNext.Pages`, Components use `NowThenNext.Components`
- Check `_Imports.razor` before adding usings to code-behind ‚Äî many are already global
- Run E2E tests after every story: `dotnet test tests/NowThenNext.Tests.E2E`
- WASM build is broken in local environment (ComputeWasmBuildAssets MSB4216 error) - pre-existing issue, not caused by code changes
- Use `dotnet build` to verify C# compilation (check for 0 C# errors even if WASM toolchain fails)
- Heredoc commit messages fail due to sandbox tmp restrictions - use inline `-m` flag instead
- Tailwind config is inline in wwwroot/index.html
- Follow PhonicsDataService pattern for static built-in data
- Dev server runs on localhost:5161

---

## 2026-02-07 - US-049
- Created LearningCategory and LearningCard models in Models/LearningCardModels.cs
- Files changed: src/NowThenNext/Models/LearningCardModels.cs (new)
- **Learnings for future iterations:**
  - Models follow same pattern as ImageItem: file-scoped namespace, auto-initialized properties with defaults
  - PhonicsModels.cs puts multiple related models in one file, so LearningCardModels.cs follows the same convention (both LearningCategory and LearningCard in one file)
  - Build passes clean with 0 warnings, 0 errors
---

## 2026-02-07 - US-050
- Added calm-cards colour tokens to Tailwind config in wwwroot/index.html
- Colours: calm-cards (#D4937A), calm-cards-dark (#B87A62), calm-cards-light (#E0B0A0)
- Files changed: src/NowThenNext/wwwroot/index.html (modified)
- **Learnings for future iterations:**
  - Tailwind colour tokens are nested under the 'calm' object, so they're used as `bg-calm-cards`, `text-calm-cards`, etc.
  - Follow the pattern of existing colour groups (phonics, activity) - add comment, then three entries (base, dark, light)
  - Build passes clean with 0 warnings, 0 errors
---

## 2026-02-07 - US-051
- Created LearningCardsBuiltInData static class in Services/LearningCardsBuiltInData.cs
- Shapes category: id='shapes', name='Shapes', emoji='üî∑', isBuiltIn=true
- 8 shape cards: circle, square, triangle, rectangle, star, heart, diamond, oval
- Each card has hand-crafted inline SVG with varied calm colours (teal, green, coral, blue, amber, phonics-light, cards-dark)
- Files changed: src/NowThenNext/Services/LearningCardsBuiltInData.cs (new)
- **Learnings for future iterations:**
  - Static class pattern works well for built-in data - no DI needed, just static methods
  - SVG strings use raw string literals (triple quotes) for readability
  - Card IDs follow pattern: `{categoryId}-{shapeName}` (e.g. `shapes-circle`)
  - Used varied colours from the calm palette for visual interest: #5B9A9A (teal), #7BA893 (green), #D4937A (coral), #7BA3C4 (blue), #D4A06A (amber), #E0B0A0 (cards-light), #9BBDD6 (phonics-light), #B87A62 (cards-dark)
  - CreatedAt set to a fixed date (2026-01-01) so built-in categories always sort before custom ones
  - Build passes clean with 0 warnings, 0 errors
---

## 2026-02-07 - US-052
- Added Colours category and 10 colour cards to LearningCardsBuiltInData
- Colours category: id='colours', name='Colours', emoji='üé®', isBuiltIn=true
- 10 colour cards: red, blue, green, yellow, orange, purple, pink, brown, black, white
- Each card uses a rounded rectangle SVG swatch (rx="12") filled with the actual teaching colour
- White card includes a light grey stroke so it's visible against white backgrounds
- Files changed: src/NowThenNext/Services/LearningCardsBuiltInData.cs (modified)
- **Learnings for future iterations:**
  - Colour cards use real representative colours, not the calm palette (per PRD requirement)
  - Colour hex values used: #E74C3C (red), #3498DB (blue), #2ECC71 (green), #F1C40F (yellow), #E67E22 (orange), #9B59B6 (purple), #E91E9C (pink), #8B4513 (brown), #2C3E50 (black), #FFFFFF (white)
  - White/light colours need a stroke outline to remain visible - used stroke="#CCCCCC" stroke-width="2"
  - Card ID pattern continues: `{categoryId}-{colourName}` (e.g. `colours-red`)
  - Build passes clean with 0 warnings, 0 errors
---

## 2026-02-07 - US-053
- Added Animals category and 12 animal cards to LearningCardsBuiltInData
- Animals category: id='animals', name='Animals', emoji='üêæ', isBuiltIn=true
- 12 animal cards: cat, dog, fish, bird, horse, cow, pig, sheep, rabbit, elephant, lion, tiger
- Each card has a simple, friendly SVG illustration with key distinguishing features
- Files changed: src/NowThenNext/Services/LearningCardsBuiltInData.cs (modified)
- **Learnings for future iterations:**
  - Animal SVGs use basic shapes (ellipses, circles, paths, lines) to create recognisable silhouettes
  - Key distinguishing features for each animal: cat (pointed ears, tail), dog (floppy ears, wagging tail), fish (tail fin, scales), bird (beak, wings, legs), horse (mane, long legs, tail), cow (black patches, horns, pink nose), pig (snout with nostrils, curly tail, big ears), sheep (fluffy circles body, dark face/legs), rabbit (long ears, whiskers, cotton tail), elephant (trunk, big ear, thick legs), lion (mane as outer circle, body), tiger (stripes on head/body, rounded ears)
  - White/light-coloured animals (cow, sheep) need a stroke outline to remain visible against white backgrounds
  - Warm colour palette used: #E8A87C (cat), #C4956A/#A67B5B (dog), #5B9A9A (fish), #7BA3C4 (bird), #A67B5B (horse), white/#2C3E50 (cow), #F0B4B4 (pig), #F5F0E8/#2C3E50 (sheep), #E8DDD0 (rabbit), #9BBDD6 (elephant), #E8C88A/#D4A06A (lion), #E8A84C (tiger)
  - Card ID pattern continues: `{categoryId}-{animalName}` (e.g. `animals-cat`)
  - Build passes clean with 0 warnings, 0 errors
---
